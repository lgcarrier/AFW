afw.afw_21.actio_dynmq.confr_sauvg={insta:[],obten:function(b){var c;for(var a=0;a<afw.afw_21.actio_dynmq.confr_sauvg.insta.length;a++){if(afw.afw_21.actio_dynmq.confr_sauvg.insta[a].id==b){c=afw.afw_21.actio_dynmq.confr_sauvg.insta[a];break}}return c},suprm:function(b){for(var a=0;a<afw.afw_21.actio_dynmq.confr_sauvg.insta.length;a++){if(afw.afw_21.actio_dynmq.confr_sauvg.insta[a].id==b){afw.afw_21.actio_dynmq.confr_sauvg.insta.splice(a,1)}}},confr_sauvg:function(k){this.jQuery=afw.jQuery;var h=this;this.id=false;this.initl=m;this._afect_actio_item=j;this._afect_reqt_sauvg=a;this._defnr_modif_item=d;this._bascl_icone=g;this._afich_icone_confr_sauvg=l;this._afect_actio_boutn=e;this._afect_actio_url=f;this.obten_stat_modif_item=c;this.reint=b;this.vjs_stat_modfc={vbo_modif_item:false,var_liste_reqt_sauvg:[],vva_inter_id:""};this.optio={vnu_id_actio_dynmq:"",vva_html_id_actio_dynmq:"",vva_nom_plugn:"",vva_mesg_confr:"Êtes-vous certain de vouloir quitter cette page sans sauvegarder les modifications apportées?",vva_plugn_ajax:"",vjs_icone_sauvg:{vbo_afich_icone:true,vva_icone_sauvg:"/res/afw/assets/img/afw_19_boutn/sauvg.png",vva_icone_confr_sauvg:"/res/afw/assets/img/afw_19_boutn/confr_sauvg.png",vnu_icone_temps_rafrc:2500,vva_afw_19_boutn:"afw_19_boutn_sauvg_enreg"}};this.initl(k);function m(n){h.optio=h.jQuery.extend(true,h.optio,n);h.id=h.optio.vva_html_id_actio_dynmq;h.jQuery.exec_aplic_procs({async:h.optio.vbo_async,plugn_ajax:h.optio.vva_plugn_ajax,widget_action:"OBTEN_JSON_ITEM",sucs_procs:h._afect_actio_item});h.jQuery.exec_aplic_procs({async:h.optio.vbo_async,plugn_ajax:h.optio.vva_plugn_ajax,widget_action:"OBTEN_JSON_REQT",sucs_procs:h._afect_reqt_sauvg});h.jQuery(window).bind("beforeunload.afw_21_actio_dynmq_confr_sauvg",function(){if(h.vjs_stat_modfc.vbo_modif_item){var o=h.jQuery("#pRequest").val();if(h.jQuery.inArray(o,h.vjs_stat_modfc.var_liste_reqt_sauvg)==-1){return h.optio.vva_mesg_confr}}})}function d(n){h.vjs_stat_modfc.vbo_modif_item=n}function g(){if(h.jQuery("#"+h.optio.vjs_icone_sauvg.vva_afw_19_boutn).attr("src")==h.optio.vjs_icone_sauvg.vva_icone_sauvg){h.jQuery("#"+h.optio.vjs_icone_sauvg.vva_afw_19_boutn).attr("src",h.optio.vjs_icone_sauvg.vva_icone_confr_sauvg)}else{h.jQuery("#"+h.optio.vjs_icone_sauvg.vva_afw_19_boutn).attr("src",h.optio.vjs_icone_sauvg.vva_icone_sauvg)}}function l(){h.jQuery("#"+h.optio.vjs_icone_sauvg.vva_afw_19_boutn).attr("src",h.optio.vjs_icone_sauvg.vva_icone_confr_sauvg)}function j(q){var n="";for(var o=0,p=q.row.length;o<p;o++){n+="#"+q.row[o].NOM_APEX+","}n=n.slice(0,-1);h.jQuery(n).bind("change.afw_21_actio_dynmq_confr_sauvg  keyup.afw_21_actio_dynmq_confr_sauvg",function(){h.vjs_stat_modfc.vbo_modif_item=true;if(h.optio.vjs_icone_sauvg.vbo_afich_icone&&h.vjs_stat_modfc.vva_inter_id==""){h._afich_icone_confr_sauvg()}})}function a(n){for(i=0;vnu_nombr_reqt=n.row.length,i<vnu_nombr_reqt;i++){h.vjs_stat_modfc.var_liste_reqt_sauvg.push(n.row[i].NOM_APEX)}}function e(q){var n="";for(var o=0,p=q.row.length;o<p;o++){n=n+"button#"+q.row[o].NOM_APEX+","}n=n.slice(0,-1);h.jQuery(n).each(function(){var s=h.jQuery(this);var r=s.attr("onclick");s.removeAttr("onclick").click(function(){h.vjs_stat_modfc.vbo_modif_item=false;clearInterval(h.vjs_stat_modfc.vva_inter_id)}).click(r)})}function f(q){var n="";for(var o=0,p=q.row.length;o<p;o++){n=n+"a[href*='"+q.row[o].NOM_APEX+"'],"}n=n.slice(0,-1);h.jQuery(n).each(function(){var r=h.jQuery(this);r.click(function(){h.vjs_stat_modfc.vbo_modif_item=false;clearInterval(h.vjs_stat_modfc.vva_inter_id)})})}function c(){return h.vjs_stat_modfc.vbo_modif_item}function b(){h._defnr_modif_item(false)}return h}};