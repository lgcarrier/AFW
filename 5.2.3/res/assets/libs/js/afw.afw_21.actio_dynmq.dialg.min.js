afw.afw_21.actio_dynmq.dialg={insta:[],obten:function(b){var c;for(var a=0;a<afw.afw_21.actio_dynmq.dialg.insta.length;a++){if(afw.afw_21.actio_dynmq.dialg.insta[a].id==b){c=afw.afw_21.actio_dynmq.dialg.insta[a];break}}return c},suprm:function(b){for(var a=0;a<afw.afw_21.actio_dynmq.dialg.insta.length;a++){if(afw.afw_21.actio_dynmq.dialg.insta[a].id==b){afw.afw_21.actio_dynmq.dialg.insta.splice(a,1);if(afw.jQuery.browser.msie!=undefined&&afw.jQuery.browser.msie&&afw.jQuery.browser.version=="9.0"){myObj=document.getElementById(b).parentNode;myObj.parentNode.removeChild(myObj)}else{afw.jQuery("#"+b).empty().dialog("destroy").remove()}}}},dialg:function(k){this.jQuery=afw.jQuery;var h=this;this.node=false;this.id=false;this.initl=m;this.ouvri=c;this.fermr=i;this.fermr_detr=f;this.obten_largr=e;this.defnr_largr=j;this.obten_boutn=l;this.defnr_boutn=d;this.defnr_optio=g;this.defnr_drag_exter=a;this.obten_widgt=b;this.defnr_actio_fermr=n;this.optio={vnu_id_actio_dynmq:"",vva_html_id_actio_dynmq:"",vva_nom_plugn:"",vva_titre:"",vva_url:"",vnu_numr_apex_aplic:"",vnu_numr_apex_page:"",vva_valr_sapc:"",vva_item_sspc:"",vva_item_sspi:"",vva_item_ref_seqnc:"",vbo_modal:true,vbo_redmn:true,vbo_fermr_echap:true,vva_clas_css:"",vbo_deplc:true,vnu_largr:640,vnu_hautr:480,vva_plugn_ajax:""};this.initl(k);return h;function m(o){h.optio=h.jQuery.extend(true,h.optio,o);h.id=h.optio.vva_html_id_actio_dynmq;console.log(h.optio);if(h.optio.vva_type_url=="PAGE"){if(h.optio.vva_item_sspc!=""){h.optio.vva_url=h.optio.vva_url.replace("\u002523SSPC\u002523",apex.item(h.optio.vva_item_sspc).getValue())}if(h.optio.vva_item_sspi!=""){h.optio.vva_url=h.optio.vva_url.replace("\u002523SSPI\u002523",apex.item(h.optio.vva_item_sspi).getValue())}}else{h.optio.vva_url=apex.item(h.optio.vva_item_contn_url).getValue();console.log(h.optio.vva_url)}h.jQuery.exec_aplic_procs({plugn_ajax:h.optio.vva_plugn_ajax,widget_action:"OUVRI_DIALG",x01:h.optio.vnu_id_actio_dynmq,x02:h.optio.vnu_numr_apex_aplic,x03:h.optio.vnu_numr_apex_page,sucs_procs:function(){h.jQuery('<div id="'+h.id+'" class="afw_21_actio_dynmq_dialg"></div>').dialog({autoOpen:false,title:h.optio.vva_titre,modal:h.optio.vbo_modal,resizable:h.optio.vbo_redmn,closeOnEscape:h.optio.vbo_fermr_echap,dialogClass:h.optio.vva_clas_css,draggable:h.optio.vbo_deplc,width:h.optio.vnu_largr,height:h.optio.vnu_hautr,beforeClose:function(p,q){},close:function(p,q){h.fermr_detr()},create:function(p,q){h.node=document.getElementById(h.id)},open:function(p,q){h.jQuery("#"+h.id).append("<iframe src="+h.optio.vva_url+"></iframe>")}});h.jQuery("#"+h.id).dialog("open")}});h.jQuery("#"+h.id).bind("dialogclose_actio_dynmq",function(p,q){apex.event.trigger(h.jQuery("#"+h.id),"dialogclose_actio_dynmq."+h.optio.vva_nom_plugn);afw.afw_21.actio_dynmq.dialg.obten(p.target.id).fermr()});h.jQuery("#"+h.id).bind("dialogclose_procs",function(p,q){apex.event.trigger(h.jQuery("#"+h.id),"dialogclose_procs."+h.optio.vva_nom_plugn);afw.afw_21.actio_dynmq.dialg.obten(p.target.id).fermr()})}function c(){h.jQuery("#"+h.id).parent().appendTo("body");h.jQuery("#"+h.id).dialog("open")}function i(){h.jQuery("#"+h.id).dialog("close")}function f(){afw.afw_21.actio_dynmq.dialg.suprm(h.id)}function e(){return h.jQuery("#"+h.id).dialog("option","width")}function j(o){h.jQuery("#"+h.id).dialog("option","width",o)}function l(){return h.jQuery("#"+h.id).dialog("option","buttons")}function d(o){h.jQuery("#"+h.id).dialog("option","buttons",o)}function g(o){h.jQuery("#"+h.id).dialog("option",o)}function a(o){if(o){h.jQuery("#"+h.id).dialog("widget").css("overflow","valid")}else{h.jQuery("#"+h.id).dialog("widget").css("overflow","hidden")}}function b(){return h.jQuery("#"+h.id).dialog("widget")}function n(o){h.jQuery("#"+h.id).dialog("widget").bind("dialogclose",o)}return h}};