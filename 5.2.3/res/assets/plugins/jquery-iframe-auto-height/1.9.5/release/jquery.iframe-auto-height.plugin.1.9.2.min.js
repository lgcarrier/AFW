(function(a){a.fn.iframeAutoHeight=function(c){var e;if(a.browser===e){var f=[];f.push("WARNING: you appear to be using a newer version of jquery which does not support the $.browser variable.");f.push("The jQuery iframe auto height plugin relies heavly on the $.browser features.");f.push("Install jquery-browser: https://raw.github.com/house9/jquery-iframe-auto-height/release/jquery.browser.js");alert(f.join("\n"));return a}var d=a.extend({heightOffset:0,minHeight:0,callback:function(h){},animate:false,debug:false,diagnostics:false,resetToMinHeight:false,triggerFunctions:[],heightCalculationOverrides:[]},c);function b(h){if(d.debug&&d.debug===true&&window.console){console.log(h)}}function g(j,i){b("Diagnostics from '"+i+"'");try{b("  "+a(j,window.top.document).contents().find("body")[0].scrollHeight+" for ...find('body')[0].scrollHeight");b("  "+a(j.contentWindow.document).height()+" for ...contentWindow.document).height()");b("  "+a(j.contentWindow.document.body).height()+" for ...contentWindow.document.body).height()")}catch(h){b("  unable to check in this state")}b("End diagnostics -> results vary by browser and when diagnostics are requested")}b(d);return this.each(function(){var m=["webkit","mozilla","msie","opera"];var l=[];l["default"]=function(r,q,p,i){return q[0].scrollHeight+p.heightOffset};jQuery.each(m,function(i,p){l[p]=l["default"]});jQuery.each(d.heightCalculationOverrides,function(i,p){l[p.browser]=p.calculation});function n(i){var p=null;jQuery.each(m,function(q,r){if(i[r]){p=l[r];return false}});if(p===null){p=l["default"]}return p}var j=0;function o(p){if(d.diagnostics){g(p,"resizeHeight")}if(d.resetToMinHeight&&d.resetToMinHeight===true){p.style.height=d.minHeight+"px"}var q=a(p,window.top.document).contents().find("body");var r=n(a.browser);var i=r(p,q,d,a.browser);b(i);if(i<d.minHeight){b("new height is less than minHeight");i=d.minHeight+d.heightOffset}b("New Height: "+i);if(d.animate){a(p).animate({height:i+"px"},{duration:500})}else{p.style.height=i+"px"}d.callback.apply(a(p),[{newFrameHeight:i}])}b(this);if(d.diagnostics){g(this,"each iframe")}if(d.triggerFunctions.length>0){b(d.triggerFunctions.length+" trigger Functions");for(var h=0;h<d.triggerFunctions.length;h++){d.triggerFunctions[h](o,this)}}if(a.browser.webkit||a.browser.opera){b("browser is webkit or opera");a(this).load(function(){var i=0;var p=this;var q=function(){o(p)};if(j===0){i=500}else{p.style.height=d.minHeight+"px"}b("load delay: "+i);setTimeout(q,i);j++});var k=a(this).attr("src");a(this).attr("src","");a(this).attr("src",k)}else{a(this).load(function(){o(this)})}})}}(jQuery));