+function(d){var c=function(f,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null;this.init("tooltip",f,e)};c.VERSION="3.2.0";c.DEFAULTS={animation:true,placement:"top",selector:false,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:false,container:false,viewport:{selector:"body",padding:0}};c.prototype.init=function(l,j,g){this.enabled=true;this.type=l;this.$element=d(j);this.options=this.getOptions(g);this.$viewport=this.options.viewport&&d(this.options.viewport.selector||this.options.viewport);var k=this.options.trigger.split(" ");for(var h=k.length;h--;){var f=k[h];if(f=="click"){this.$element.on("click."+this.type,this.options.selector,d.proxy(this.toggle,this))}else{if(f!="manual"){var m=f=="hover"?"mouseenter":"focusin";var e=f=="hover"?"mouseleave":"focusout";this.$element.on(m+"."+this.type,this.options.selector,d.proxy(this.enter,this));this.$element.on(e+"."+this.type,this.options.selector,d.proxy(this.leave,this))}}}this.options.selector?(this._options=d.extend({},this.options,{trigger:"manual",selector:""})):this.fixTitle()};c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.getOptions=function(e){e=d.extend({},this.getDefaults(),this.$element.data(),e);if(e.delay&&typeof e.delay=="number"){e.delay={show:e.delay,hide:e.delay}}return e};c.prototype.getDelegateOptions=function(){var e={};var f=this.getDefaults();this._options&&d.each(this._options,function(g,h){if(f[g]!=h){e[g]=h}});return e};c.prototype.enter=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget).data("bs."+this.type);if(!e){e=new this.constructor(f.currentTarget,this.getDelegateOptions());d(f.currentTarget).data("bs."+this.type,e)}clearTimeout(e.timeout);e.hoverState="in";if(!e.options.delay||!e.options.delay.show){return e.show()}e.timeout=setTimeout(function(){if(e.hoverState=="in"){e.show()}},e.options.delay.show)};c.prototype.leave=function(f){var e=f instanceof this.constructor?f:d(f.currentTarget).data("bs."+this.type);if(!e){e=new this.constructor(f.currentTarget,this.getDelegateOptions());d(f.currentTarget).data("bs."+this.type,e)}clearTimeout(e.timeout);e.hoverState="out";if(!e.options.delay||!e.options.delay.hide){return e.hide()}e.timeout=setTimeout(function(){if(e.hoverState=="out"){e.hide()}},e.options.delay.hide)};c.prototype.show=function(){var q=d.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){this.$element.trigger(q);var r=d.contains(document.documentElement,this.$element[0]);if(q.isDefaultPrevented()||!r){return}var p=this;var n=this.tip();var h=this.getUID(this.type);this.setContent();n.attr("id",h);this.$element.attr("aria-describedby",h);if(this.options.animation){n.addClass("fade")}var l=typeof this.options.placement=="function"?this.options.placement.call(this,n[0],this.$element[0]):this.options.placement;var t=/\s?auto?\s?/i;var u=t.test(l);if(u){l=l.replace(t,"")||"top"}n.detach().css({top:0,left:0,display:"block"}).addClass(l).data("bs."+this.type,this);this.options.container?n.appendTo(this.options.container):n.insertAfter(this.$element);var s=this.getPosition();var f=n[0].offsetWidth;var o=n[0].offsetHeight;if(u){var j=l;var k=this.$element.parent();var m=this.getPosition(k);l=l=="bottom"&&s.top+s.height+o-m.scroll>m.height?"top":l=="top"&&s.top-m.scroll-o<0?"bottom":l=="right"&&s.right+f>m.width?"left":l=="left"&&s.left-f<m.left?"right":l;n.removeClass(j).addClass(l)}var i=this.getCalculatedOffset(l,s,f,o);this.applyPlacement(i,l);var g=function(){p.$element.trigger("shown.bs."+p.type);p.hoverState=null};d.support.transition&&this.$tip.hasClass("fade")?n.one("bsTransitionEnd",g).emulateTransitionEnd(150):g()}};c.prototype.applyPlacement=function(k,l){var m=this.tip();var g=m[0].offsetWidth;var q=m[0].offsetHeight;var f=parseInt(m.css("margin-top"),10);var i=parseInt(m.css("margin-left"),10);if(isNaN(f)){f=0}if(isNaN(i)){i=0}k.top=k.top+f;k.left=k.left+i;d.offset.setOffset(m[0],d.extend({using:function(r){m.css({top:Math.round(r.top),left:Math.round(r.left)})}},k),0);m.addClass("in");var e=m[0].offsetWidth;var n=m[0].offsetHeight;if(l=="top"&&n!=q){k.top=k.top+q-n}var p=this.getViewportAdjustedDelta(l,k,e,n);if(p.left){k.left+=p.left}else{k.top+=p.top}var h=p.left?p.left*2-g+e:p.top*2-q+n;var j=p.left?"left":"top";var o=p.left?"offsetWidth":"offsetHeight";m.offset(k);this.replaceArrow(h,m[0][o],j)};c.prototype.replaceArrow=function(g,f,e){this.arrow().css(e,g?(50*(1-g/f)+"%"):"")};c.prototype.setContent=function(){var f=this.tip();var e=this.getTitle();f.find(".tooltip-inner")[this.options.html?"html":"text"](e);f.removeClass("fade in top bottom left right")};c.prototype.hide=function(){var g=this;var i=this.tip();var h=d.Event("hide.bs."+this.type);this.$element.removeAttr("aria-describedby");function f(){if(g.hoverState!="in"){i.detach()}g.$element.trigger("hidden.bs."+g.type)}this.$element.trigger(h);if(h.isDefaultPrevented()){return}i.removeClass("in");d.support.transition&&this.$tip.hasClass("fade")?i.one("bsTransitionEnd",f).emulateTransitionEnd(150):f();this.hoverState=null;return this};c.prototype.fixTitle=function(){var e=this.$element;if(e.attr("title")||typeof(e.attr("data-original-title"))!="string"){e.attr("data-original-title",e.attr("title")||"").attr("title","")}};c.prototype.hasContent=function(){return this.getTitle()};c.prototype.getPosition=function(f){f=f||this.$element;var g=f[0];var e=g.tagName=="BODY";return d.extend({},(typeof g.getBoundingClientRect=="function")?g.getBoundingClientRect():null,{scroll:e?document.documentElement.scrollTop||document.body.scrollTop:f.scrollTop(),width:e?d(window).width():f.outerWidth(),height:e?d(window).height():f.outerHeight()},e?{top:0,left:0}:f.offset())};c.prototype.getCalculatedOffset=function(e,h,f,g){return e=="bottom"?{top:h.top+h.height,left:h.left+h.width/2-f/2}:e=="top"?{top:h.top-g,left:h.left+h.width/2-f/2}:e=="left"?{top:h.top+h.height/2-g/2,left:h.left-f}:{top:h.top+h.height/2-g/2,left:h.left+h.width}};c.prototype.getViewportAdjustedDelta=function(h,k,e,j){var m={top:0,left:0};if(!this.$viewport){return m}var g=this.options.viewport&&this.options.viewport.padding||0;var l=this.getPosition(this.$viewport);if(/right|left/.test(h)){var n=k.top-g-l.scroll;var i=k.top+g-l.scroll+j;if(n<l.top){m.top=l.top-n}else{if(i>l.top+l.height){m.top=l.top+l.height-i}}}else{var o=k.left-g;var f=k.left+g+e;if(o<l.left){m.left=l.left-o}else{if(f>l.width){m.left=l.left+l.width-f}}}return m};c.prototype.getTitle=function(){var g;var e=this.$element;var f=this.options;g=e.attr("data-original-title")||(typeof f.title=="function"?f.title.call(e[0]):f.title);return g};c.prototype.getUID=function(e){do{e+=~~(Math.random()*1000000)}while(document.getElementById(e));return e};c.prototype.tip=function(){return(this.$tip=this.$tip||d(this.options.template))};c.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow"))};c.prototype.validate=function(){if(!this.$element[0].parentNode){this.hide();this.$element=null;this.options=null}};c.prototype.enable=function(){this.enabled=true};c.prototype.disable=function(){this.enabled=false};c.prototype.toggleEnabled=function(){this.enabled=!this.enabled};c.prototype.toggle=function(g){var f=this;if(g){f=d(g.currentTarget).data("bs."+this.type);if(!f){f=new this.constructor(g.currentTarget,this.getDelegateOptions());d(g.currentTarget).data("bs."+this.type,f)}}f.tip().hasClass("in")?f.leave(f):f.enter(f)};c.prototype.destroy=function(){clearTimeout(this.timeout);this.hide().$element.off("."+this.type).removeData("bs."+this.type)};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.tooltip");var f=typeof e=="object"&&e;if(!g&&e=="destroy"){return}if(!g){h.data("bs.tooltip",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.tooltip;d.fn.tooltip=b;d.fn.tooltip.Constructor=c;d.fn.tooltip.noConflict=function(){d.fn.tooltip=a;return this}}(jQuery);+function(d){var c=function(f,e){this.init("popover",f,e)};if(!d.fn.tooltip){throw new Error("Popover requires tooltip.js")}c.VERSION="3.2.0";c.DEFAULTS=d.extend({},d.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'});c.prototype=d.extend({},d.fn.tooltip.Constructor.prototype);c.prototype.constructor=c;c.prototype.getDefaults=function(){return c.DEFAULTS};c.prototype.setContent=function(){var g=this.tip();var f=this.getTitle();var e=this.getContent();g.find(".popover-title")[this.options.html?"html":"text"](f);g.find(".popover-content").empty()[this.options.html?(typeof e=="string"?"html":"append"):"text"](e);g.removeClass("fade top bottom left right in");if(!g.find(".popover-title").html()){g.find(".popover-title").hide()}};c.prototype.hasContent=function(){return this.getTitle()||this.getContent()};c.prototype.getContent=function(){var e=this.$element;var f=this.options;return e.attr("data-content")||(typeof f.content=="function"?f.content.call(e[0]):f.content)};c.prototype.arrow=function(){return(this.$arrow=this.$arrow||this.tip().find(".arrow"))};c.prototype.tip=function(){if(!this.$tip){this.$tip=d(this.options.template)}return this.$tip};function b(e){return this.each(function(){var h=d(this);var g=h.data("bs.popover");var f=typeof e=="object"&&e;if(!g&&e=="destroy"){return}if(!g){h.data("bs.popover",(g=new c(this,f)))}if(typeof e=="string"){g[e]()}})}var a=d.fn.popover;d.fn.popover=b;d.fn.popover.Constructor=c;d.fn.popover.noConflict=function(){d.fn.popover=a;return this}}(jQuery);(function(d,c){var b,a;a=c.document;b=(function(){function e(f){var h;try{h=c.localStorage}catch(g){h=false}this._options=d.extend({name:"tour",steps:[],container:"body",autoscroll:true,keyboard:true,storage:h,debug:false,backdrop:false,backdropPadding:0,redirect:true,orphan:false,duration:false,delay:false,basePath:"",template:'<div class="popover" role="tooltip"> <div class="arrow"></div> <h3 class="popover-title"></h3> <div class="popover-content"></div> <div class="popover-navigation"> <div class="btn-group"> <button class="btn btn-sm btn-default" data-role="prev">&laquo; Prev</button> <button class="btn btn-sm btn-default" data-role="next">Next &raquo;</button> <button class="btn btn-sm btn-default" data-role="pause-resume" data-pause-text="Pause" data-resume-text="Resume">Pause</button> </div> <button class="btn btn-sm btn-default" data-role="end">End tour</button> </div> </div>',afterSetState:function(i,j){},afterGetState:function(i,j){},afterRemoveState:function(i){},onStart:function(i){},onEnd:function(i){},onShow:function(i){},onShown:function(i){},onHide:function(i){},onHidden:function(i){},onNext:function(i){},onPrev:function(i){},onPause:function(j,i){},onResume:function(j,i){}},f);this._force=false;this._inited=false;this.backdrop={overlay:null,$element:null,$background:null,backgroundShown:false,overlayElementShown:false};this}e.prototype.addSteps=function(g){var h,i,f;for(i=0,f=g.length;i<f;i++){h=g[i];this.addStep(h)}return this};e.prototype.addStep=function(f){this._options.steps.push(f);return this};e.prototype.getStep=function(f){if(this._options.steps[f]!=null){return d.extend({id:"step-"+f,path:"",placement:"right",title:"",content:"<p></p>",next:f===this._options.steps.length-1?-1:f+1,prev:f-1,animation:true,container:this._options.container,autoscroll:this._options.autoscroll,backdrop:this._options.backdrop,backdropPadding:this._options.backdropPadding,redirect:this._options.redirect,orphan:this._options.orphan,duration:this._options.duration,delay:this._options.delay,template:this._options.template,onShow:this._options.onShow,onShown:this._options.onShown,onHide:this._options.onHide,onHidden:this._options.onHidden,onNext:this._options.onNext,onPrev:this._options.onPrev,onPause:this._options.onPause,onResume:this._options.onResume},this._options.steps[f])}};e.prototype.init=function(f){this._force=f;if(this.ended()){this._debug("Tour ended, init prevented.");return this}this.setCurrentStep();this._initMouseNavigation();this._initKeyboardNavigation();this._onResize((function(g){return function(){return g.showStep(g._current)}})(this));if(this._current!==null){this.showStep(this._current)}this._inited=true;return this};e.prototype.start=function(f){var g;if(f==null){f=false}if(!this._inited){this.init(f)}if(this._current===null){g=this._makePromise(this._options.onStart!=null?this._options.onStart(this):void 0);this._callOnPromiseDone(g,this.showStep,0)}return this};e.prototype.next=function(){var f;f=this.hideStep(this._current);return this._callOnPromiseDone(f,this._showNextStep)};e.prototype.prev=function(){var f;f=this.hideStep(this._current);return this._callOnPromiseDone(f,this._showPrevStep)};e.prototype.goTo=function(f){var g;g=this.hideStep(this._current);return this._callOnPromiseDone(g,this.showStep,f)};e.prototype.end=function(){var f,g;f=(function(h){return function(i){d(a).off("click.tour-"+h._options.name);d(a).off("keyup.tour-"+h._options.name);d(c).off("resize.tour-"+h._options.name);h._setState("end","yes");h._inited=false;h._force=false;h._clearTimer();if(h._options.onEnd!=null){return h._options.onEnd(h)}}})(this);g=this.hideStep(this._current);return this._callOnPromiseDone(g,f)};e.prototype.ended=function(){return !this._force&&!!this._getState("end")};e.prototype.restart=function(){this._removeState("current_step");this._removeState("end");return this.start()};e.prototype.pause=function(){var f;f=this.getStep(this._current);if(!(f&&f.duration)){return this}this._paused=true;this._duration-=new Date().getTime()-this._start;c.clearTimeout(this._timer);this._debug("Paused/Stopped step "+(this._current+1)+" timer ("+this._duration+" remaining).");if(f.onPause!=null){return f.onPause(this,this._duration)}};e.prototype.resume=function(){var f;f=this.getStep(this._current);if(!(f&&f.duration)){return this}this._paused=false;this._start=new Date().getTime();this._duration=this._duration||f.duration;this._timer=c.setTimeout((function(g){return function(){if(g._isLast()){return g.next()}else{return g.end()}}})(this),this._duration);this._debug("Started step "+(this._current+1)+" timer with duration "+this._duration);if((f.onResume!=null)&&this._duration!==f.duration){return f.onResume(this,this._duration)}};e.prototype.hideStep=function(g){var f,j,h;h=this.getStep(g);if(!h){return}this._clearTimer();j=this._makePromise(h.onHide!=null?h.onHide(this,g):void 0);f=(function(i){return function(l){var k;k=d(h.element);if(!(k.data("bs.popover")||k.data("popover"))){k=d("body")}k.popover("destroy").removeClass("tour-"+i._options.name+"-element tour-"+i._options.name+"-"+g+"-element");if(h.reflex){k.removeClass("tour-step-element-reflex").off(""+(i._reflexEvent(h.reflex))+".tour-"+i._options.name)}if(h.backdrop){i._hideBackdrop()}if(h.onHidden!=null){return h.onHidden(i)}}})(this);this._callOnPromiseDone(j,f);return j};e.prototype.showStep=function(f){var k,j,h,g;if(this.ended()){this._debug("Tour ended, showStep prevented.");return this}g=this.getStep(f);if(!g){return}h=f<this._current;k=this._makePromise(g.onShow!=null?g.onShow(this,f):void 0);j=(function(i){return function(n){var o,m,l;i.setCurrentStep(f);m=(function(){switch({}.toString.call(g.path)){case"[object Function]":return g.path();case"[object String]":return this._options.basePath+g.path;default:return g.path}}).call(i);o=[a.location.pathname,a.location.hash].join("");if(i._isRedirect(m,o)){i._redirect(g,m);return}if(i._isOrphan(g)){if(!g.orphan){i._debug("Skip the orphan step "+(i._current+1)+".\nOrphan option is false and the element does not exist or is hidden.");if(h){i._showPrevStep()}else{i._showNextStep()}return}i._debug("Show the orphan step "+(i._current+1)+". Orphans option is true.")}if(g.backdrop){i._showBackdrop(!i._isOrphan(g)?g.element:void 0)}l=function(){if(i.getCurrentStep()!==f){return}if((g.element!=null)&&g.backdrop){i._showOverlayElement(g)}i._showPopover(g,f);if(g.onShown!=null){g.onShown(i)}return i._debug("Step "+(i._current+1)+" of "+i._options.steps.length)};if(g.autoscroll){i._scrollIntoView(g.element,l)}else{l()}if(g.duration){return i.resume()}}})(this);if(g.delay){this._debug("Wait "+g.delay+" milliseconds to show the step "+(this._current+1));c.setTimeout((function(i){return function(){return i._callOnPromiseDone(k,j)}})(this),g.delay)}else{this._callOnPromiseDone(k,j)}return k};e.prototype.getCurrentStep=function(){return this._current};e.prototype.setCurrentStep=function(f){if(f!=null){this._current=f;this._setState("current_step",f)}else{this._current=this._getState("current_step");this._current=this._current===null?null:parseInt(this._current,10)}return this};e.prototype._setState=function(f,h){var i,g;if(this._options.storage){g=""+this._options.name+"_"+f;try{this._options.storage.setItem(g,h)}catch(j){i=j;if(i.code===DOMException.QUOTA_EXCEEDED_ERR){this.debug("LocalStorage quota exceeded. State storage failed.")}}return this._options.afterSetState(g,h)}else{if(this._state==null){this._state={}}return this._state[f]=h}};e.prototype._removeState=function(f){var g;if(this._options.storage){g=""+this._options.name+"_"+f;this._options.storage.removeItem(g);return this._options.afterRemoveState(g)}else{if(this._state!=null){return delete this._state[f]}}};e.prototype._getState=function(f){var g,h;if(this._options.storage){g=""+this._options.name+"_"+f;h=this._options.storage.getItem(g)}else{if(this._state!=null){h=this._state[f]}}if(h===void 0||h==="null"){h=null}this._options.afterGetState(f,h);return h};e.prototype._showNextStep=function(){var h,f,g;g=this.getStep(this._current);f=(function(i){return function(j){return i.showStep(g.next)}})(this);h=this._makePromise(g.onNext!=null?g.onNext(this):void 0);return this._callOnPromiseDone(h,f)};e.prototype._showPrevStep=function(){var h,f,g;g=this.getStep(this._current);f=(function(i){return function(j){return i.showStep(g.prev)}})(this);h=this._makePromise(g.onPrev!=null?g.onPrev(this):void 0);return this._callOnPromiseDone(h,f)};e.prototype._debug=function(f){if(this._options.debug){return c.console.log("Bootstrap Tour '"+this._options.name+"' | "+f)}};e.prototype._isRedirect=function(g,f){return(g!=null)&&g!==""&&(({}.toString.call(g)==="[object RegExp]"&&!g.test(f))||({}.toString.call(g)==="[object String]"&&g.replace(/\?.*$/,"").replace(/\/?$/,"")!==f.replace(/\/?$/,"")))};e.prototype._redirect=function(f,g){if(d.isFunction(f.redirect)){return f.redirect.call(this,g)}else{if(f.redirect===true){this._debug("Redirect to "+g);return a.location.href=g}}};e.prototype._isOrphan=function(f){return(f.element==null)||!d(f.element).length||d(f.element).is(":hidden")&&(d(f.element)[0].namespaceURI!=="http://www.w3.org/2000/svg")};e.prototype._isLast=function(){return this._current<this._options.steps.length-1};e.prototype._showPopover=function(k,j){var f,l,g,h;d(".tour-"+this._options.name).remove();h=d.extend({},this._options);g=this._isOrphan(k);k.template=this._template(k,j);if(g){k.element="body";k.placement="top"}f=d(k.element);f.addClass("tour-"+this._options.name+"-element tour-"+this._options.name+"-"+j+"-element");if(k.options){d.extend(h,k.options)}if(k.reflex&&!g){f.addClass("tour-step-element-reflex");f.off(""+(this._reflexEvent(k.reflex))+".tour-"+this._options.name);f.on(""+(this._reflexEvent(k.reflex))+".tour-"+this._options.name,(function(i){return function(){if(i._isLast()){return i.next()}else{return i.end()}}})(this))}f.popover({placement:k.placement,trigger:"manual",title:k.title,content:k.content,html:true,animation:k.animation,container:k.container,template:k.template,selector:k.element}).popover("show");l=f.data("bs.popover")?f.data("bs.popover").tip():f.data("popover").tip();l.attr("id",k.id);this._reposition(l,k);if(g){return this._center(l)}};e.prototype._template=function(k,j){var l,f,g,h;h=d.isFunction(k.template)?d(k.template(j,k)):d(k.template);l=h.find(".popover-navigation");g=l.find('[data-role="prev"]');f=l.find('[data-role="next"]');if(this._isOrphan(k)){h.addClass("orphan")}h.addClass("tour-"+this._options.name+" tour-"+this._options.name+"-"+j);if(k.prev<0){l.find('[data-role="prev"]').addClass("disabled")}if(k.next<0){l.find('[data-role="next"]').addClass("disabled")}if(!k.duration){l.find('[data-role="pause-resume"]').remove()}return h.clone().wrap("<div>").parent().html()};e.prototype._reflexEvent=function(f){if({}.toString.call(f)==="[object Boolean]"){return"click"}else{return f}};e.prototype._reposition=function(j,g){var h,f,i,m,n,l,k;m=j[0].offsetWidth;f=j[0].offsetHeight;k=j.offset();n=k.left;l=k.top;h=d(a).outerHeight()-k.top-j.outerHeight();if(h<0){k.top=k.top+h}i=d("html").outerWidth()-k.left-j.outerWidth();if(i<0){k.left=k.left+i}if(k.top<0){k.top=0}if(k.left<0){k.left=0}j.offset(k);if(g.placement==="bottom"||g.placement==="top"){if(n!==k.left){return this._replaceArrow(j,(k.left-n)*2,m,"left")}}else{if(l!==k.top){return this._replaceArrow(j,(k.top-l)*2,f,"top")}}};e.prototype._center=function(f){return f.css("top",d(c).outerHeight()/2-f.outerHeight()/2)};e.prototype._replaceArrow=function(h,i,g,f){return h.find(".arrow").css(f,i?50*(1-i/g)+"%":"")};e.prototype._scrollIntoView=function(h,m){var g,k,f,i,j,l;g=d(h);if(!g.length){return m()}k=d(c);i=g.offset().top;l=k.height();j=Math.max(0,i-(l/2));this._debug("Scroll into view. ScrollTop: "+j+". Element offset: "+i+". Window height: "+l+".");f=0;return d("body, html").stop(true,true).animate({scrollTop:Math.ceil(j)},(function(n){return function(){if(++f===2){m();return n._debug("Scroll into view.\nAnimation end element offset: "+(g.offset().top)+".\nWindow height: "+(k.height())+".")}}})(this))};e.prototype._onResize=function(g,f){return d(c).on("resize.tour-"+this._options.name,function(){clearTimeout(f);return f=setTimeout(g,100)})};e.prototype._initMouseNavigation=function(){var f;f=this;return d(a).off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']").off("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']").on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='next']",(function(g){return function(h){h.preventDefault();return g.next()}})(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='prev']",(function(g){return function(h){h.preventDefault();return g.prev()}})(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='end']",(function(g){return function(h){h.preventDefault();return g.end()}})(this)).on("click.tour-"+this._options.name,".popover.tour-"+this._options.name+" *[data-role='pause-resume']",function(h){var g;h.preventDefault();g=d(this);g.text(f._paused?g.data("pause-text"):g.data("resume-text"));if(f._paused){return f.resume()}else{return f.pause()}})};e.prototype._initKeyboardNavigation=function(){if(!this._options.keyboard){return}return d(a).on("keyup.tour-"+this._options.name,(function(f){return function(g){if(!g.which){return}switch(g.which){case 39:g.preventDefault();if(f._isLast()){return f.next()}else{return f.end()}break;case 37:g.preventDefault();if(f._current>0){return f.prev()}break;case 27:g.preventDefault();return f.end()}}})(this))};e.prototype._makePromise=function(f){if(f&&d.isFunction(f.then)){return f}else{return null}};e.prototype._callOnPromiseDone=function(h,g,f){if(h){return h.then((function(i){return function(j){return g.call(i,f)}})(this))}else{return g.call(this,f)}};e.prototype._showBackdrop=function(f){if(this.backdrop.backgroundShown){return}this.backdrop=d("<div>",{"class":"tour-backdrop"});this.backdrop.backgroundShown=true;return d("body").append(this.backdrop)};e.prototype._hideBackdrop=function(){this._hideOverlayElement();return this._hideBackground()};e.prototype._hideBackground=function(){if(this.backdrop){this.backdrop.remove();this.backdrop.overlay=null;return this.backdrop.backgroundShown=false}};e.prototype._showOverlayElement=function(h){var f,g;f=d(h.element);if(!f||f.length===0||this.backdrop.overlayElementShown){return}this.backdrop.overlayElementShown=true;this.backdrop.$element=f.addClass("tour-step-backdrop");this.backdrop.$background=d("<div>",{"class":"tour-step-background"});g={width:f.innerWidth(),height:f.innerHeight(),offset:f.offset()};this.backdrop.$background.appendTo("body");if(h.backdropPadding){g=this._applyBackdropPadding(h.backdropPadding,g)}return this.backdrop.$background.width(g.width).height(g.height).offset(g.offset)};e.prototype._hideOverlayElement=function(){if(!this.backdrop.overlayElementShown){return}this.backdrop.$element.removeClass("tour-step-backdrop");this.backdrop.$background.remove();this.backdrop.$element=null;this.backdrop.$background=null;return this.backdrop.overlayElementShown=false};e.prototype._applyBackdropPadding=function(g,f){if(typeof g==="object"){if(g.top==null){g.top=0}if(g.right==null){g.right=0}if(g.bottom==null){g.bottom=0}if(g.left==null){g.left=0}f.offset.top=f.offset.top-g.top;f.offset.left=f.offset.left-g.left;f.width=f.width+g.left+g.right;f.height=f.height+g.top+g.bottom}else{f.offset.top=f.offset.top-g;f.offset.left=f.offset.left-g;f.width=f.width+(g*2);f.height=f.height+(g*2)}return f};e.prototype._clearTimer=function(){c.clearTimeout(this._timer);this._timer=null;return this._duration=null};return e})();return c.Tour=b})(jQuery,window);