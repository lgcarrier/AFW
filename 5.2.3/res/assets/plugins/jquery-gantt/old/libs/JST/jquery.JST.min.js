$.fn.loadTemplates=function(){$.JST.loadTemplates($(this));return this};$.JST={_templates:new Object(),_decorators:new Object(),loadTemplates:function(a){a.each(function(){$(this).find(".__template__").each(function(){var b=$(this);var c=b.attr("type");if(b.get(0).firstChild.nodeType==8){var g=b.get(0).firstChild.nodeValue}else{var g=b.html()}if(!g.match(/##\w+##/)){var f="var p=[],print=function(){p.push.apply(p,arguments);};with(obj){p.push('"+g.replace(/[\r\t\n]/g," ").replace(/'(?=[^#]*#\))/g,"\t").split("'").join("\\'").split("\t").join("'").replace(/\(#=(.+?)#\)/g,"',$1,'").split("(#").join("');").split("#)").join("p.push('")+"');}return p.join('');";try{$.JST._templates[c]=new Function("obj",f)}catch(d){console.error("JST error: "+c,d,f)}}else{try{$.JST._templates[c]=g}catch(d){console.error("JST error: "+c,d,g)}}b.remove()})})},createFromTemplate:function(j,m,b){var l=$.JST._templates;var f=new Object();if(b){for(var a in j){var k=j[a];if(typeof(k)=="string"){k=(k+"").replace(/\n/g,"<br>")}f[a]=k}}else{f=j}function c(e,o){for(var p in o){var n=o[p];e=e.replace(new RegExp("##"+p+"##","gi"),n)}e=e.replace(new RegExp("##\\w+##","gi"),"");return e}var g="";if(typeof(m)=="undefined"){alert("Template is required");g="<div>Template is required</div>"}else{if(typeof(l[m])=="function"){try{g=l[m](f)}catch(i){console.error("JST error: "+m,i.message);g="<div> ERROR: "+m+"<br>"+i.message+"</div>"}}else{g=l[m];if(!g||g.trim()==""){console.error("No template found for type '"+m+"'");return $("<div>")}else{g=c(g,f)}}}var h=$(g);h.attr("__template",m);var d=$.JST._decorators[m];if(typeof(d)=="function"){d(h,f)}return h},existsTemplate:function(a){return $.JST._templates[a]},loadDecorator:function(b,a){$.JST._decorators[b]=a},getDecorator:function(a){return $.JST._decorators[a]},decorateTemplate:function(a){var b=$.JST._decorators[a.attr("__template")];if(typeof(b)=="function"){b(editor)}},ajaxLoadAsynchTemplates:function(a,b){$.get(a,function(c){var d=$("<div>");d.html(c);$.JST.loadTemplates(d);if(typeof(b=="function")){b()}},"html")},ajaxLoadTemplates:function(a){$.ajax({async:false,url:a,dataType:"html",success:function(b){var c=$("<div>");c.html(b);$.JST.loadTemplates(c)}})}};