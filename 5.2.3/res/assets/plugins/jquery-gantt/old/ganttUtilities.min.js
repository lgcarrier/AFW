$.gridify=function(f,d){var a={resizeZoneWidth:10};$.extend(a,d);var e=$("<div>").addClass("gdfWrapper");e.append(f);var c=f.clone();c.addClass("fixHead");c.find("tbody").remove();e.append(c);e.append(f);var h=c.find(".gdfColHeader");var g=f.find(".gdfColHeader");for(var b=0;b<h.length;b++){h.eq(b).data("fTh",g.eq(b))}f.width(0);c.width(0);c.find("th.gdfColHeader.gdfResizable:not(.gdfied)").mouseover(function(){$(this).addClass("gdfColHeaderOver")}).bind("mouseout.gdf",function(){$(this).removeClass("gdfColHeaderOver");if(!$.gridify.columInResize){$("body").removeClass("gdfHResizing")}}).bind("mousemove.gdf",function(k){if(!$.gridify.columInResize){var j=$(this);var i=k.pageX-j.offset().left;if(j.width()-i<a.resizeZoneWidth){$("body").addClass("gdfHResizing")}else{$("body").removeClass("gdfHResizing")}}}).bind("mousedown.gdf",function(k){var j=$(this);var i=k.pageX-j.offset().left;if(j.width()-i<a.resizeZoneWidth){$("body").unselectable();$.gridify.columInResize=$(this);$(document).bind("mousemove.gdf",function(l){$.gridify.columInResize.width(l.pageX-$.gridify.columInResize.offset().left);$.gridify.columInResize.data("fTh").width($.gridify.columInResize.outerWidth())}).bind("mouseup.gdf",function(){$(this).unbind("mousemove.gdf").unbind("mouseup.gdf").clearUnselectable();$("body").removeClass("gdfHResizing");delete $.gridify.columInResize})}}).addClass("gdfied unselectable").attr("unselectable","true");f.find("td.gdfCell:not(.gdfied)").each(function(){var i=$(this);if(i.is(".gdfEditable")){var k=$("<input type='text'>").addClass("gdfCellInput");k.val(i.text());i.empty().append(k)}else{var j=$("<div>").addClass("gdfCellWrap");j.html(i.html());i.empty().append(j)}}).addClass("gdfied");return e};$.splittify={init:function(f,h,b,k){k=k||50;var e=$("<div>").addClass("splitterContainer");var n=$("<div>").addClass("splitElement splitBox1");var i=$("<div>").addClass("splitElement vSplitBar").attr("unselectable","on").html("|").css("padding-top",f.height()/2+"px");var c=$("<div>").addClass("splitElement splitBox2");var a=new l(e,n,c,i);a.perc=k;n.append(h);c.append(b);e.append(n).append(c).append(i);f.append(e);var m=f.innerWidth();var o=m*k/100-i.width();var g=n.get(0).scrollWidth;o=o>g?g:o;n.width(o).css({left:0});i.css({left:n.width()});c.width(m-o-i.width()).css({left:n.width()+i.width()});i.bind("mousedown.gdf",function(q){$.splittify.splitterBar=$(this);var p=n.get(0).scrollWidth;$("body").unselectable().bind("mousemove.gdf",function(s){var v=$.splittify.splitterBar;var u=s.pageX-v.parent().offset().left;var r=v.parent().width();var t=n;if(u>10&&u<p){v.css({left:u});n.width(u);c.css({left:u+v.width(),width:r-u-v.width()})}a.perc=(n.width()/a.element.width())*100}).bind("mouseup.gdf",function(){$(this).unbind("mousemove.gdf").unbind("mouseup.gdf").clearUnselectable();delete $.splittify.splitterBar})});var d=false;var j=n.add(c);j.scroll(function(r){var p=$(this);var q=p.scrollTop();if(p.is(".splitBox1")&&d!="splitBox2"){d="splitBox1";c.scrollTop(q)}else{if(p.is(".splitBox2")&&d!="splitBox1"){d="splitBox2";n.scrollTop(q)}}c.find(".fixHead").css("top",q);n.find(".fixHead").css("top",q);f.stopTime("reset").oneTime(100,"reset",function(){d=""})});function l(p,r,s,q){this.element=p;this.firstBox=r;this.secondBox=s;this.splitterBar=q;this.perc=0;this.resize=function(){var u=this.element.width();var t=this.firstBox.get(0).scrollWidth;var v=u*this.perc/100;v=v<t?v:t;this.firstBox.css({width:v});this.splitterBar.css({left:v});this.secondBox.css({left:v+this.splitterBar.width(),width:u-v-this.splitterBar.width()})}}return a}};function computeStart(a){return computeStartDate(a).getTime()}function computeStartDate(b){var a=new Date(b+3600000*12);a.setHours(0,0,0,0);while(isHoliday(a)){a.setDate(a.getDate()+1)}a.setHours(0,0,0,0);return a}function computeEnd(a){return computeEndDate(a).getTime()}function computeEndDate(a){var b=new Date(a-3600000*12);b.setHours(23,59,59,999);while(isHoliday(b)){b.setDate(b.getDate()+1)}b.setHours(23,59,59,999);return b}function computeEndByDuration(e,b){var c=new Date(e);var a=b-1;while(a>0){c.setDate(c.getDate()+1);if(!isHoliday(c)){a--}}c.setHours(23,59,59,999);return c.getTime()}function incrementDateByWorkingDays(a,c){var b=new Date(a);b.incrementDateByWorkingDays(c);return b.getTime()}function recomputeDuration(b,a){return new Date(b).distanceInWorkingDays(new Date(a))}if(!Array.prototype.filter){Array.prototype.filter=function(b){var a=this.length;if(typeof b!="function"){throw new TypeError()}var e=new Array();var d=arguments[1];for(var c=0;c<a;c++){if(c in this){var f=this[c];if(b.call(d,f,c,this)){e.push(f)}}}return e}};